(()=>{"use strict";function e(e){for(var t=parseInt(e.dataset.x),a=parseInt(e.dataset.y),n=[],r=t-1;r<=t+1;r++)for(var d=a-1;d<=a+1;d++)if(r!==t||d!==a){var l=document.getElementById("cell-".concat(r,"-").concat(d));l&&n.push(l)}return n=n.filter((function(e){return"true"===e.dataset.alive})),n}function t(e){"true"===e.dataset.alive?e.classList.add("alive"):e.classList.remove("alive")}function a(e,a){var n,r,d,l=document.createElement("div");l.classList.add("grid"),l.style.gridTemplateColumns="repeat(".concat(a,", 1fr)"),l.style.gridTemplateRows="repeat(".concat(e,", 1fr)");for(var c=0;c<e;c++)for(var o=0;o<a;o++)l.appendChild((n=c,r=o,d=void 0,(d=document.createElement("div")).classList.add("cell"),d.id="cell-".concat(n,"-").concat(r),d.dataset.x=String(n),d.dataset.y=String(r),Math.random()<.1?d.dataset.alive="true":d.dataset.alive="false",d));for(c=0;c<e;c++)for(o=0;o<a;o++)t(l.children[c*a+o]);return l}var n=a(50,50);document.body.appendChild(n);var r,d=!1;document.addEventListener("keydown",(function(a){"Space"===a.code&&(d?(clearInterval(r),d=!1):(r=setInterval((function(){!function(a){for(var n=a.querySelectorAll(".cell"),r=0;r<n.length;r++){var d=e(l=n[r]);d.length<2||d.length>3?l.dataset.alive="false":3===d.length&&(l.dataset.alive="true")}for(r=0;r<n.length;r++){var l;t(l=n[r])}}(n)}),100),d=!0))})),document.addEventListener("keydown",(function(e){"KeyR"===e.code&&(clearInterval(r),d=!1,document.body.innerHTML="",n=a(50,50),document.body.appendChild(n))}))})();